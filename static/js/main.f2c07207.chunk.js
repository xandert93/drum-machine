(this["webpackJsonpdrum-machine"]=this["webpackJsonpdrum-machine"]||[]).push([[0],{14:function(e,t,r){},15:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(1),s=r.n(a),c=r(8),o=r.n(c),i=r(7),u=r(2),l=r(3),d=r(5),p=r(4);r(14);var m=function(){return Object(n.jsx)("h1",{className:"heading-primary",children:"Drum Machine"})},j=s.a.createContext(),h=j.Provider,f=j.Consumer,b=[{letter:"Q",id:"Heater-1",url:"https://s3.amazonaws.com/freecodecamp/drums/Heater-1.mp3"},{letter:"W",id:"Heater-2",url:"https://s3.amazonaws.com/freecodecamp/drums/Heater-2.mp3"},{letter:"E",id:"Heater-3",url:"https://s3.amazonaws.com/freecodecamp/drums/Heater-3.mp3"},{letter:"A",id:"Heater-4",url:"https://s3.amazonaws.com/freecodecamp/drums/Heater-4_1.mp3"},{letter:"S",id:"Heater-6",url:"https://s3.amazonaws.com/freecodecamp/drums/Heater-6.mp3"},{letter:"D",id:"Open-HH",url:"https://s3.amazonaws.com/freecodecamp/drums/Dsc_Oh.mp3"},{letter:"Z",id:"Kick-n'-Hat",url:"https://s3.amazonaws.com/freecodecamp/drums/Kick_n_Hat.mp3"},{letter:"X",id:"Kick",url:"https://s3.amazonaws.com/freecodecamp/drums/RP4_KICK_1.mp3"},{letter:"C",id:"Closed-HH",url:"https://s3.amazonaws.com/freecodecamp/drums/Cev_H2.mp3"}],v=function(e){Object(d.a)(r,e);var t=Object(p.a)(r);function r(){var e;return Object(u.a)(this,r),(e=t.call(this)).handleKeyUp=function(t){e.props.power&&t.key.toUpperCase()===e.props.letter&&e.playAudio()},e.playAudio=function(t){e.setState({drumpadActive:!0});var r=e.audioRef.current;r.volume=e.props.volume/100,r.currentTime=0,r.play(),setTimeout((function(){return e.setState({drumpadActive:!1})}),100),e.props.displayNode.textContent=r.id},e.state={drumpadActive:!1},e.audioRef=Object(a.createRef)(),e}return Object(l.a)(r,[{key:"render",value:function(){var e=this.props,t=e.letter,r=e.soundURL,a=e.id,s=e.power,c=this.state.drumpadActive;return Object(n.jsxs)("div",{className:"drumpad ".concat(c?"active":""),style:{pointerEvents:s?"auto":"none"},onClick:s?this.playAudio:void 0,children:[t,Object(n.jsx)("audio",{ref:this.audioRef,src:r,id:a})]})}},{key:"componentDidMount",value:function(){window.addEventListener("keyup",this.handleKeyUp)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keyup",this.handleKeyUp)}}]),r}(a.Component);var O=function(){return Object(n.jsx)(f,{children:function(e){var t=e.power,r=e.volume,a=e.displayNode;return Object(n.jsx)("div",{className:"drumpads-container",children:b.map((function(e){var s=e.id,c=e.letter,o=e.url;return Object(n.jsx)(v,{letter:c,soundURL:o,id:s,power:t,volume:r,displayNode:a},s)}))})}})};var w=function(){return Object(n.jsx)(f,{children:function(e){var t=e.volume,r=e.changeVolume;return Object(n.jsxs)("div",{className:"volume-container",children:[Object(n.jsxs)("p",{className:"volume-text",children:["VOL: ",t]}),Object(n.jsx)("input",{className:"volume-slider",value:t,onChange:r,type:"range"})]})}})},y=function(e){Object(d.a)(r,e);var t=Object(p.a)(r);function r(e){var n;return Object(u.a)(this,r),(n=t.call(this,e)).setIsPowerOn=function(){return n.setState((function(e){return{isPowerOn:!e.isPowerOn,clickable:!1}}))},n.togglePower=function(e){e(),n.setState({clickable:!0})},n.state={isPowerOn:!1,clickable:!0},n}return Object(l.a)(r,[{key:"render",value:function(){var e=this.setIsPowerOn,t=this.togglePower,r=this.state,a=r.isPowerOn,s=r.clickable;return Object(n.jsx)(f,{children:function(r){var c=r.setPower;return Object(n.jsxs)("div",{className:"power-button-container ".concat(a?"open":""),children:[Object(n.jsx)("button",{style:{pointerEvents:"".concat(s?"":"none")},onClick:e,onTransitionEnd:function(){return t(c)},className:"power-button ".concat(a?"on":"")}),Object(n.jsx)("span",{className:"fas fa-power-off on"}),Object(n.jsx)("span",{className:"fas fa-power-off off"})]})}})}}]),r}(a.Component),x=function(e){Object(d.a)(r,e);var t=Object(p.a)(r);function r(e){var n;return Object(u.a)(this,r),(n=t.call(this,e)).displayRef=Object(a.createRef)(),n}return Object(l.a)(r,[{key:"render",value:function(){return Object(n.jsx)("div",{ref:this.displayRef,className:"sound-display",children:"Hit a Key..."})}},{key:"componentDidMount",value:function(){this.props.setDisplayNode(this.displayRef.current)}}]),r}(a.Component);var N=function(){return Object(n.jsx)(f,{children:function(e){var t=e.power,r=e.setDisplayNode;return Object(n.jsxs)("div",{className:"controls-container",children:[Object(n.jsx)(y,{}),t&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(x,{setDisplayNode:r}),Object(n.jsx)(w,{})]})]})}})};var k=function(){return Object(n.jsxs)("footer",{className:"footer",title:"Visit GitHub page",children:["\xa9"," ",Object(n.jsx)("a",{className:"link--github",href:"https://github.com/xandert93",target:"_blank",rel:"noopener noreferrer",children:"xandert.93"})]})},g=function(e){Object(d.a)(r,e);var t=Object(p.a)(r);function r(){var e;return Object(u.a)(this,r),(e=t.call(this)).state={hasError:!1},e}return Object(l.a)(r,[{key:"render",value:function(){return this.state.hasError?Object(n.jsx)("h3",{children:"Something went wrong"}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),r}(a.Component),H=function(e){Object(d.a)(r,e);var t=Object(p.a)(r);function r(e){var n;return Object(u.a)(this,r),(n=t.call(this,e)).setPower=function(){return n.setState((function(e){return{power:!e.power}}))},n.changeVolume=function(e){return n.setState({volume:e.target.value})},n.setDisplayNode=function(e){return n.setState({displayNode:e})},n.state={power:!1,volume:50,displayNode:null},n}return Object(l.a)(r,[{key:"render",value:function(){var e=this.setPower,t=this.changeVolume,r=this.setDisplayNode;return Object(n.jsxs)("div",{className:"app",children:[Object(n.jsx)(m,{}),Object(n.jsx)("div",{className:"drum-machine-container",children:Object(n.jsxs)(h,{value:Object(i.a)(Object(i.a)({},this.state),{},{setPower:e,changeVolume:t,setDisplayNode:r}),children:[Object(n.jsx)(N,{}),Object(n.jsx)(g,{children:Object(n.jsx)(O,{})})]})}),Object(n.jsx)(k,{})]})}}]),r}(a.Component);o.a.render(Object(n.jsx)(H,{}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.f2c07207.chunk.js.map